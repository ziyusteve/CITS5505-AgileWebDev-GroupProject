2025-05-07 14:11:45,881 WARNING: [DEBUG] Scout report analysis: {'_sa_instance_state': <sqlalchemy.orm.state.InstanceState object at 0x000002B67F7DDC70>, 'analysis_date': datetime.datetime(2025, 5, 5, 7, 42, 1, 248151), 'player_name': 'Luka Doncic', 'position': 'Guard', 'offensive_rating': 92.0, 'physical_rating': 78.0, 'potential_rating': 95.0, 'analysis_result': '{"player_name": "Luka Doncic", "position": "Guard", "team": "Mavericks", "strengths": ["Scoring ability (28 points in Game 5)", "Playmaking (9 assists in Game 5)", "Free throw shooting (12-for-15 in Game 5)"], "weaknesses": ["Poor defense (allowed 41 points in Game 5)", "Inconsistent field goal percentage (7-for-18 in Game 5)"], "development_areas": ["Defensive effort and technique", "Shot selection and efficiency"], "summary": "Luka Doncic is a highly skilled offensive player known for his scoring and playmaking abilities. He can create opportunities for himself and his teammates, particularly through his passing and free-throw drawing ability. However, his defensive performance has been heavily criticized, with some analysts labeling him as one of the worst defensive stars in modern basketball. This weakness significantly impacts his overall value and the team\'s defensive capabilities. \\n\\nWhile Doncic\'s offensive prowess is undeniable, his defensive liabilities need to be addressed for him to reach his full potential and lead his team to sustained success. Improving his defensive effort, understanding of defensive schemes, and individual defensive techniques are crucial. Furthermore, improving his shot selection and field goal percentage would make him an even more potent offensive threat. \\n\\nDoncic has shown the ability to lead his team deep into the playoffs, but his defensive shortcomings ultimately contributed to a first-round exit. His potential remains high, but significant improvements on the defensive end are necessary to elevate his game and his team\'s performance.", "offensive_rating": 92, "defensive_rating": 55, "physical_rating": 78, "technical_rating": 88, "potential_rating": 95, "overall_rating": 82}', 'id': 26, 'dataset_id': 26, 'processing_status': 'completed', 'team': 'Mavericks', 'defensive_rating': 55.0, 'technical_rating': 88.0, 'overall_rating': 82.0} [in E:\5505\5505_group_project\app\visualization\routes.py:38]
2025-05-07 14:26:11,306 WARNING: [DEBUG] Extracted text content: In the Modern Basketball Era, Luka Doncic is the Worst Defensive Star

After the Lakers were knocked out in the first round by the Timberwolves, an ESPN analyst didn’t hold back, slamming Luka Doncic  [in E:\5505\5505_group_project\app\datasets\routes.py:68]
2025-05-07 14:26:11,307 WARNING: [DEBUG] services module path: E:\5505\5505_group_project\app\scout_analysis\services.py [in E:\5505\5505_group_project\app\scout_analysis\services.py:55]
2025-05-07 14:26:11,307 INFO: Starting text analysis, length=2308 [in E:\5505\5505_group_project\app\scout_analysis\services.py:58]
2025-05-07 14:26:11,308 WARNING: [DEBUG] Using config API key: AIzaS...2x_ss [in E:\5505\5505_group_project\app\scout_analysis\services.py:68]
2025-05-07 14:26:11,308 WARNING: [DEBUG] Using API service: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCETEiGA_fvo5RbEAQid4OHytiU5W2x_ss [in E:\5505\5505_group_project\app\scout_analysis\services.py:71]
2025-05-07 14:26:11,309 WARNING: [DEBUG] Using Gemini API key: AIzaS...2x_ss [in E:\5505\5505_group_project\app\scout_analysis\services.py:72]
2025-05-07 14:26:11,309 WARNING: [DEBUG] Gemini API request URL: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCETEiGA_fvo5RbEAQid4OHytiU5W2x_ss [in E:\5505\5505_group_project\app\scout_analysis\services.py:105]
2025-05-07 14:26:11,309 WARNING: [DEBUG] Gemini API request headers: {'Content-Type': 'application/json'} [in E:\5505\5505_group_project\app\scout_analysis\services.py:106]
2025-05-07 14:26:11,310 WARNING: [DEBUG] Gemini API request body: {'contents': [{'role': 'user', 'parts': [{'text': 'You are a professional basketball scout. You analyze player information and generate detailed scouting reports.\n\nGiven the following basketball player information, generate a detailed scouting report.\n\nInclude:\n1. Player Name (string, key: player_name)\n2. Player Position (string, key: position)\n3. Player Team (string, if available, key: team)\n4. Strengths (list of strings, at least 3, key: strengths)\n5. Weaknesses (list of strings, at least 2, key: weaknesses)\n6. Development areas (list of strings, at least 2, key: development_areas)\n7. A detailed summary (string, 2-3 paragraphs, key: summary)\n8. Numerical ratings from 0-100 for: offensive_rating, defensive_rating, physical_rating, technical_rating, potential_rating, overall_rating (keys: offensive_rating, defensive_rating, physical_rating, technical_rating, potential_rating, overall_rating)\n\nFormat your response as valid JSON with these exact keys: player_name, position, team, strengths, weaknesses, development_areas, summary, offensive_rating, defensive_rating, physical_rating, technical_rating, potential_rating, overall_rating\n\nPlayer information:\nIn the Modern Basketball Era, Luka Doncic is the Worst Defensive Star\n\nAfter the Lakers were knocked out in the first round by the Timberwolves, an ESPN analyst didn’t hold back, slamming Luka Doncic as “the worst defensive star in modern basketball.” According to a May 2 report from Live Bar, the Lakers fell 95-103 to the Timberwolves at home, bowing out of the series with a 1-4 deficit.\n\nIn that game, Doncic logged 40 minutes on the court, going 7-for-18 from the field, 2-for-8 from beyond the arc, and 12-for-15 from the free-throw line, finishing with 28 points, 7 rebounds, 9 assists, and 1 steal.\n\nBasketball expert Michael Jagacki crunched the numbers and found that in Game 5, Doncic allowed a staggering 41 points on defense. The Lakers’ 1-4 elimination marked a steep fall for Doncic—from Western Conference Finals juggernaut to first-round fodder. This dramatic twist feels like a plunge from the heavens to the depths. Just last year, Doncic led the Mavericks to a 4-1 rout of the Ti'}]}], 'generationConfig': {'temperature': 0.3, 'maxOutputTokens': 2000}} [in E:\5505\5505_group_project\app\scout_analysis\services.py:107]
2025-05-07 14:26:15,626 WARNING: [DEBUG] Gemini API response status: 200 [in E:\5505\5505_group_project\app\scout_analysis\services.py:111]
2025-05-07 14:26:15,628 WARNING: [DEBUG] API response: {'candidates': [{'content': {'parts': [{'text': '```json\n{\n  "player_name": "Luka Doncic",\n  "position": "Guard/Forward",\n  "team": "Dallas Mavericks",\n  "strengths": [\n    "High scoring ability (averages high points per game)",\n    "Excellent passer and playmaker (averages high assists per game)",\n    "Strong free-throw shooter (high free-throw percentage)"\n  ],\n  "weaknesses": [\n    "Poor defender (allows high points on defense)",\n    "Inconsistent field goal percentage (struggles with efficiency at times)"\n  ],\n  "development_areas": [\n    "Improve defensive effort and technique (focus on positioning, rotations, and contesting shots)",\n    "Increase field goal percentage (work on shot selection and consistency)"\n  ],\n  "summary": "Luka Doncic is a highly skilled offensive player known for his scoring prowess, playmaking abilities, and free-throw shooting. He is a primary ball-handler and offensive engine for his team, capable of creating scoring opportunities for himself and others. However, his defensive liabilities are a significant concern. He is often criticized for his lack of effort and poor defensive fundamentals, leading to opponents scoring easily against him. This weakness can be a major detriment to his team\'s overall success, especially in crucial playoff games.",\n  "offensive_rating": 92,\n  "defensive_rating": 55,\n  "physical_rating": 78,\n  "technical_rating": 90,\n  "potential_rating": 95,\n  "overall_rating": 85\n}\n```'}], 'role': 'model'}, 'finishReason': 'STOP', 'avgLogprobs': -0.10913105444474654}], 'usageMetadata': {'promptTokenCount': 534, 'candidatesTokenCount': 352, 'totalTokenCount': 886, 'promptTokensDetails': [{'modality': 'TEXT', 'tokenCount': 534}], 'candidatesTokensDetails': [{'modality': 'TEXT', 'tokenCount': 352}]}, 'modelVersion': 'gemini-2.0-flash'} [in E:\5505\5505_group_project\app\scout_analysis\services.py:120]
2025-05-07 14:26:15,628 WARNING: [DEBUG] Analysis content: ```json
{
  "player_name": "Luka Doncic",
  "position": "Guard/Forward",
  "team": "Dallas Mavericks",
  "strengths": [
    "High scoring ability (averages high points per game)",
    "Excellent passer and playmaker (averages high assists per game)",
    "Strong free-throw shooter (high free-throw percentage)"
  ],
  "weaknesses": [
    "Poor defender (allows high points on defense)",
    "Inconsistent field goal percentage (struggles with efficiency at times)"
  ],
  "development_areas": [
    "Improve defensive effort and technique (focus on positioning, rotations, and contesting shots)",
    "Increase field goal percentage (work on shot selection and consistency)"
  ],
  "summary": "Luka Doncic is a highly skilled offensive player known for his scoring prowess, playmaking abilities, and free-throw shooting. He is a primary ball-handler and offensive engine for his team, capable of creating scoring opportunities for himself and others. However, his defensive liabilities are a significant concern. He is often criticized for his lack of effort and poor defensive fundamentals, leading to opponents scoring easily against him. This weakness can be a major detriment to his team's overall success, especially in crucial playoff games.",
  "offensive_rating": 92,
  "defensive_rating": 55,
  "physical_rating": 78,
  "technical_rating": 90,
  "potential_rating": 95,
  "overall_rating": 85
}
``` [in E:\5505\5505_group_project\app\scout_analysis\services.py:133]
